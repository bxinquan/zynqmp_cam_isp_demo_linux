# Do not edit this file, it will be overwritten on update
#
# This file contains lookup rules for libinput model-specific quirks.
# IT IS NOT A STABLE API AND SUBJECT TO CHANGE AT ANY TIME

ACTION=="remove", GOTO="libinput_fuzz_override_end"
KERNEL!="event*", GOTO="libinput_fuzz_override_end"

# Two-step process: fuzz-extract sets the LIBINPUT_FUZZ property and
# fuzz-to-zero sets the kernel fuzz to zero. They must be in IMPORT and RUN,
# respectively, to correctly interact with the 60-evdev.hwdb
#
# Drawback: if this rule is triggered more than once, we'll lose the fuzz
# information (because the kernel fuzz will then be zero). Nothing we can do
# about that.
ATTRS{capabilities/abs}!="0", \
	ENV{ID_INPUT_TOUCHPAD}=="1", \
	IMPORT{program}="libinput-fuzz-extract %S%p", \
	RUN{program}+="libinput-fuzz-to-zero %S%p", \
	GOTO="libinput_fuzz_override_end"
ATTRS{capabilities/abs}!="0", \
	ENV{ID_INPUT_TOUCHSCREEN}=="1", \
	IMPORT{program}="libinput-fuzz-extract %S%p", \
	RUN{program}+="libinput-fuzz-to-zero %S%p", \
	GOTO="libinput_fuzz_override_end"

LABEL="libinput_fuzz_override_end"
